<div class="m-textarea"
     :class="{ 'm--is-disabled' : isDisabled,
               'm--is-waiting' : isWaiting,
               'm--has-error' : textareaError,
               'm--is-valid' : textareaValid,
               'm--is-focus' : isFocus,
               'm--has-icon' : hasIcon,
               'm--has-label': hasLabel }"
     @click="onClick"
     :style="{ width: inputWidth, maxWidth: inputMaxWidth }">
    <m-input-style :disabled="isDisabled"
                   :waiting="isWaiting"
                   :error="textareaError"
                   :valid="isValid"
                   :label="label"
                   :focus="isFocus"
                   :empty="isEmpty"
                   :icon-name="iconName"
                   :required-marker="requiredMarker">

                <textarea class="m-textarea-resize m-textarea__input"
                :class="{ 'm--is-diabled' : disabled,
                        'm--is-readonly': readonly,
                        'm--is-focus': isFocus }"
                :disabled="!active"
                :placeholder="placeholder"
                :readonly="readonly"
                rows="1"
                @focus="onFocus"
                @blur="onBlur"
                @change="onChange"
                @keyup="onKeyup"
                @keydown="onKeydown"
                @paste="onPaste"
                ref="input"
                v-model="model"></textarea>

    </m-input-style>
    <div class="m-textarea__validation">
        <m-validation-message
            class="m-textarea__validation__message"
            :disabled="isDisabled"
            :waiting="isWaiting"
            :error="textareaError"
            :error-message="errorMessage"
            :valid-message="validMessage"
            :helper-message="helperMessage"></m-validation-message>
        <div class="m-textarea__validation__maxlenght" v-if="hasMaxlenght">
            {{ valueLenght }}<strong>/{{ maxlength }}</strong>
        </div>
    </div>
</div>
