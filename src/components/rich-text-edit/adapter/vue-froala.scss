@import 'abstracts/variables';

.vue-froala {
    margin-top: 5px;

    /deep/ .fr-box.fr-basic.fr-top .fr-wrapper {
        box-shadow: unset;
    }

    /deep/ .fr-wrapper {
        background-color: transparent;
    }

    /deep/ .fr-toolbar {
        opacity: 0;
        border-top: unset;
        transition: margin-top $m-transition-duration--l ease, opacity $m-transition-duration--l ease;
        display: block !important;

        &::before {
            content: "";
            width: 0;
            height: 4px;
            display: block;
            background-color: $m-color--grey;
            transition: background-color $m-transition-duration--l ease-in-out, width $m-transition-duration--l ease-in-out;
        }
    }

    /deep/ .fr-box.fr-basic .fr-element {
        transition: padding $m-transition-duration--l ease;
        padding: 0;
        min-height: unset;
        font-weight: $m-font-weight;
    }

    &--collapsed {
        // Style overrides when the editor is not focused when there is nothing to display.  Rework this as you wish.
        /deep/ .fr-box.fr-basic .fr-element {
            padding: 0;
            min-height: unset;

            p { margin: 0; }
        }

        /deep/ .fr-box.fr-basic.fr-top .fr-wrapper {
            box-shadow: unset;
        }

        /deep/ .fr-wrapper.show-placeholder .fr-placeholder { display: none; }
    }

    &--focused {
        /deep/ .fr-placeholder {
            padding: 16px 16px 0 16px !important; // Fix placeholder positioning bug.  Magic numbers.
        }

        /deep/ .fr-box.fr-basic .fr-element {
            padding: $m-spacing;
        }

        /deep/ .fr-wrapper {
            background-color: white;
        }

        /deep/ .fr-toolbar {
            margin-top: 0;
            padding: 0;
            opacity: 1;

            &::before {
                width: 100%;
                background-color: $m-color--interactive;

                .m--has-error & {
                    background-color: $m-color--error;
                }

                .m--is-valid & {
                    background-color: $m-color--success;
                }
            }
        }
    }

    /deep/ .fr-element {
        & > :first-child {
            margin-top: 0;
        }

        & > * {
            min-height: 24px; // magic number
        }

        & > p {
            margin-top: 8px; // magic number
        }

        ul {
            margin-top: $m-margin;
            margin-bottom: 0;

            @include m-bullet-list();
        }

        table {
            @include m-table();
        }
    }
}
